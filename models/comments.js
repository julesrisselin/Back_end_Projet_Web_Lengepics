import db from "../database.js";

export async function getAllComments() {
    const row = db.getall('SELECT * FROM comments',)
    return row;
}

export async function getCommentsById(id) {
    const row = db.getrow('SELECT * FROM comments WHERE id = ?', [id])
    return row;
}

export async function moderateComments(id){
    const row = db.execute('UPDATE comments SET is_visible = 0 WHERE id = ?', [id])
    return row;
}

export async function subComments(id_participations ,user_id ,content){
    const row = db.execute('INSERT INTO comments (id_participations, user_id  , content) VALUES (?, ? ,?)' ,[id_participations, user_id ,content]);
    return row;
}